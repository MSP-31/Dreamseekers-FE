import{d as P,r as m,o as $,c as n,y as p,b as e,e as g,t as i,F as v,f as _,z as y,A as q,M as b,N as D,O as S,P as I,p as h,n as z,Q as L,h as o,u as j,_ as B}from"./index-Cy_VbVKo.js";import{_ as M}from"./PageHeader.vue_vue_type_script_setup_true_lang-BllI9bfK.js";const F={class:"font-[var(--font-body)]"},N={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},O={class:"text-3xl font-bold text-center mb-8 text-[var(--dream-text)]"},V={class:"min-w-full divide-y divide-gray-200 border-t border-b border-gray-300"},T={class:"bg-white divide-y divide-gray-200"},E=["onClick"],A={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},Q={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-left"},R={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},U={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},Y={key:0},G={class:"mt-6 text-center"},H={key:0,class:"paging-navi mt-8 flex justify-center"},J={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},K=["disabled"],W=["onClick","aria-current"],X=["disabled"],Z=P({__name:"InquiryListPage",setup(ee){const f=L(),w=m(j.isStaff),l=m([]),s=m({count:0,start_index:0,number:0,has_other_pages:!1,has_previous:!1,has_next:!1,previous_page_number:null,next_page_number:null,custom_range:[]}),x=(r=1)=>{console.log(`Loading inquiry data for page: ${r}`),r===1?(l.value=[...b],Object.assign(s.value,D)):r===2?(l.value=[...S],Object.assign(s.value,I)):(l.value=[],Object.assign(s.value,{count:b.length,start_index:0,number:r,has_other_pages:!1,has_previous:!0,has_next:!1,previous_page_number:r-1,next_page_number:null,custom_range:[1,2]}))},k=r=>{f.push(`/inquiry/${r}`)},c=r=>{r!==null&&r!==s.value.number&&(x(r),window.scrollTo({top:0,behavior:"smooth"}))},C=r=>{const t=new Date(r),d=t.getFullYear(),a=(t.getMonth()+1).toString().padStart(2,"0"),u=t.getDate().toString().padStart(2,"0");return`${d}.${a}.${u}`};return $(()=>{x(1)}),(r,t)=>{const d=q("router-link");return o(),n("div",F,[p(M,{title:"강의 문의",backgroundImageUrl:"/Dreamseekers-FE/img/top_header/inquiry.jpg"}),e("div",N,[e("h1",O,i(w.value?"문의 내역":"내 문의 내역"),1),e("table",V,[t[3]||(t[3]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"},"번호"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-8/12"},"제목"),e("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12"},"글쓴이"),e("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"작성일")])],-1)),e("tbody",T,[(o(!0),n(v,null,_(l.value,(a,u)=>(o(),n("tr",{key:a.pk,class:"hover:bg-gray-100 cursor-pointer transition-colors duration-150",onClick:te=>k(a.pk)},[e("td",A,i(s.value.count-s.value.start_index-u+1),1),e("td",Q,[p(d,{to:`/inquiry/${a.pk}`,class:"hover:underline text-[var(--dream-text)] hover:text-[var(--dream-main)]"},{default:y(()=>[h(i(a.title),1)]),_:2},1032,["to"])]),e("td",R,i(a.author),1),e("td",U,i(C(a.created_at)),1)],8,E))),128)),l.value.length===0?(o(),n("tr",Y,t[2]||(t[2]=[e("td",{colspan:"4",class:"px-4 py-8 text-center text-gray-500"},"표시할 문의 내역이 없습니다.",-1)]))):g("",!0)])]),e("div",G,[p(d,{to:"/inquiry/write",class:"inline-block bg-[var(--dream-main)] hover:bg-opacity-80 text-white font-semibold py-2 px-6 rounded-md shadow-sm transition duration-150 ease-in-out"},{default:y(()=>t[4]||(t[4]=[h(" 문의하기 ")])),_:1,__:[4]})]),s.value.has_other_pages?(o(),n("div",H,[e("nav",J,[e("button",{onClick:t[0]||(t[0]=a=>c(s.value.previous_page_number)),disabled:!s.value.has_previous,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},t[5]||(t[5]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,K),(o(!0),n(v,null,_(s.value.custom_range,a=>(o(),n("button",{key:a,onClick:u=>c(a),"aria-current":a===s.value.number?"page":void 0,class:z(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",{"z-10 bg-[var(--dream-main)] border-[var(--dream-main)] text-white":a===s.value.number,"bg-white border-gray-300 text-gray-700 hover:bg-gray-50":a!==s.value.number}])},i(a),11,W))),128)),e("button",{onClick:t[1]||(t[1]=a=>c(s.value.next_page_number)),disabled:!s.value.has_next,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},t[6]||(t[6]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,X)])])):g("",!0),t[7]||(t[7]=e("div",{class:"mt-12 border-t border-[var(--dream-gray-dark)] opacity-30"},null,-1))])])}}}),re=B(Z,[["__scopeId","data-v-ded40f1c"]]);export{re as default};
