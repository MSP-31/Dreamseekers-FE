import{d as z,r as m,a as B,o as L,c as l,b as e,e as x,F as y,f as k,w as C,n as j,t as p,i as I,v as A,j as P,h as n,u as R,l as $,m as E,_ as N}from"./index-CG98PHEb.js";import{_ as O}from"./intro-D7poRhNJ.js";const H={class:"font-[var(--font-body)]"},T={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},X={key:0,class:"text-right mb-6"},q={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"},G=["src","alt"],J={class:"text-xl font-semibold text-[var(--dream-text)] mb-2"},K={class:"text-sm text-[var(--dream-sub)] leading-relaxed whitespace-pre-line flex-grow"},Q={key:0,class:"absolute top-4 right-4 flex flex-col space-y-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},W=["onClick"],Y=["onClick"],Z={class:"flex justify-between items-center mb-6"},ee={class:"text-xl font-semibold text-[var(--dream-text)]"},te={class:"space-y-4"},ae={key:0},se=["for"],oe=["type","id","onUpdate:modelValue"],le=["id","onUpdate:modelValue"],ne={key:1},re={class:"block text-sm font-medium text-[var(--dream-sub)] mb-1"},ie={class:"mt-1 w-full flex flex-col items-center px-4 py-3 bg-white text-[var(--dream-blue)] rounded-lg shadow border border-[var(--dream-blue)] border-dashed cursor-pointer hover:bg-[var(--dream-gray)] hover:text-[var(--dream-main)] transition-colors"},de={class:"mt-1 text-xs leading-normal"},ue=["id"],me={key:0,class:"mt-3 text-center"},ce={class:"border border-gray-300 p-2 rounded-md w-full max-w-xs h-40 mx-auto flex items-center justify-center overflow-hidden relative bg-gray-50"},ve=["src"],xe={class:"mt-8 text-right space-x-3"},pe={type:"submit",class:"bg-[var(--dream-main)] hover:bg-opacity-80 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition duration-150 ease-in-out"},ge=z({__name:"InstructorsPage",setup(be){const h=m(R.isStaff),r=m([...$]),c=m(!1),v=m(!1),g=m(null),f={name:"",contents:""},o=B({...f}),M=m(E),i=m(null),d=m(null),_=s=>{s?(v.value=!0,g.value=s.id,o.name=s.name,o.contents=s.contents,i.value=s.image||null):(v.value=!1,g.value=null,Object.assign(o,f),i.value=null),d.value=null,c.value=!0},b=()=>{c.value=!1,v.value=!1,g.value=null,Object.assign(o,f),i.value=null,d.value=null},D=s=>{const a=s.target;if(a.files&&a.files[0]){const t=a.files[0];d.value=t;const u=new FileReader;u.onload=V=>{var w;i.value=(w=V.target)==null?void 0:w.result},u.readAsDataURL(t),a.value=""}},U=()=>{i.value=null,d.value=null},S=()=>{console.log("Form submitted:",o),console.log("Uploaded image:",d.value);let s=i.value;if(d.value?s=i.value:!i.value&&v.value&&(s="/img/dummy/placeholder-avatar.png"),v.value&&g.value!==null){const a=r.value.findIndex(t=>t.id===g.value);a!==-1&&(r.value[a]={...r.value[a],name:o.name,contents:o.contents,image:s||r.value[a].image})}else{const a=r.value.length>0?Math.max(...r.value.map(t=>t.id))+1:1;r.value.push({id:a,name:o.name,contents:o.contents,image:s||"/img/dummy/placeholder-avatar.png"})}b()},F=s=>{window.confirm("정말로 이 강사 정보를 삭제하시겠습니까?")&&(console.log("Deleting instructor:",s),r.value=r.value.filter(a=>a.id!==s))};return L(()=>{}),(s,a)=>(n(),l("div",H,[a[5]||(a[5]=e("div",{class:"relative h-64 md:h-80 bg-gray-700"},[e("img",{src:O,alt:"교육원 소개 배경 이미지",class:"w-full h-full object-cover opacity-50"}),e("div",{class:"absolute inset-0 flex items-center justify-center"},[e("h1",{class:"text-white text-4xl md:text-5xl font-bold"},"교육원 소개")])],-1)),e("div",T,[a[3]||(a[3]=e("h1",{class:"text-3xl font-bold text-center mb-10 text-[var(--dream-text)]"},"강사 소개",-1)),h.value?(n(),l("div",X,[e("button",{onClick:a[0]||(a[0]=t=>_()),class:"bg-[var(--dream-main)] hover:bg-opacity-80 text-white font-semibold py-2 px-6 rounded-md shadow-sm transition duration-150 ease-in-out"}," 강사 추가 ")])):x("",!0),e("ul",q,[(n(!0),l(y,null,k(r.value,t=>(n(),l("li",{key:t.id,class:"bg-white shadow-xl rounded-lg p-6 flex flex-col items-center text-center transition-all duration-300 hover:shadow-2xl relative group"},[e("img",{src:t.image||"/img/dummy/placeholder-avatar.png",alt:t.name,class:"w-32 h-32 md:w-40 md:h-40 rounded-full object-cover mb-5 shadow-lg border-4 border-white"},null,8,G),e("h2",J,p(t.name),1),e("p",K,p(t.contents),1),h.value?(n(),l("div",Q,[e("button",{onClick:u=>_(t),class:"bg-[var(--dream-blue)] hover:bg-opacity-80 text-white text-xs font-semibold py-1 px-3 rounded-md shadow-sm"},"수정",8,W),e("button",{onClick:u=>F(t.id),class:"bg-red-500 hover:bg-red-600 text-white text-xs font-semibold py-1 px-3 rounded-md shadow-sm"},"삭제",8,Y)])):x("",!0)]))),128))]),a[4]||(a[4]=e("div",{class:"mt-12 border-t border-[var(--dream-gray-dark)] opacity-30"},null,-1)),h.value&&c.value?(n(),l("div",{key:1,class:j(["fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out",{"opacity-100":c.value,"opacity-0 pointer-events-none":!c.value}]),onClick:C(b,["self"])},[e("div",{class:j(["bg-white p-6 sm:p-8 rounded-lg shadow-2xl w-full max-w-lg transform transition-all duration-300 ease-in-out",{"scale-100":c.value,"scale-95":!c.value}])},[e("div",Z,[e("h3",ee,p(v.value?"강사 정보 수정":"새 강사 추가"),1),e("button",{onClick:b,class:"text-gray-400 hover:text-gray-600 text-2xl leading-none"},"×")]),e("form",{onSubmit:C(S,["prevent"])},[e("div",te,[(n(!0),l(y,null,k(M.value,t=>(n(),l(y,{key:t.name},[t.type==="text"||t.type==="textarea"?(n(),l("div",ae,[e("label",{for:t.id,class:"block text-sm font-medium text-[var(--dream-sub)] mb-1"},p(t.label),9,se),t.type==="text"?I((n(),l("input",{key:0,type:t.type,id:t.id,"onUpdate:modelValue":u=>o[t.name]=u,class:"mt-1 block w-full px-3 py-2 border border-[var(--dream-gray-dark)] rounded-md shadow-sm focus:outline-none focus:ring-[var(--dream-main)] focus:border-[var(--dream-main)] sm:text-sm"},null,8,oe)),[[A,o[t.name]]]):t.type==="textarea"?I((n(),l("textarea",{key:1,id:t.id,"onUpdate:modelValue":u=>o[t.name]=u,rows:"4",class:"mt-1 block w-full px-3 py-2 border border-[var(--dream-gray-dark)] rounded-md shadow-sm focus:outline-none focus:ring-[var(--dream-main)] focus:border-[var(--dream-main)] sm:text-sm resize-none"},null,8,le)),[[P,o[t.name]]]):x("",!0)])):x("",!0),t.type==="image"?(n(),l("div",ne,[e("label",re,p(t.label),1),e("label",ie,[a[1]||(a[1]=e("svg",{class:"w-6 h-6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1)),e("span",de,p(d.value?d.value.name:"이미지 선택 (클릭 또는 드래그)"),1),e("input",{id:t.id,type:"file",accept:"image/*",class:"hidden",onChange:D},null,40,ue)]),i.value?(n(),l("div",me,[a[2]||(a[2]=e("p",{class:"text-xs font-medium text-[var(--dream-sub)] mb-1"},"미리보기",-1)),e("div",ce,[e("img",{src:i.value,alt:"이미지 미리보기",class:"max-h-full max-w-full object-contain rounded"},null,8,ve),e("button",{type:"button",onClick:U,class:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5 w-5 h-5 flex items-center justify-center text-xs leading-none hover:bg-red-600",title:"이미지 제거"}," X ")])])):x("",!0)])):x("",!0)],64))),128))]),e("div",xe,[e("button",{type:"button",onClick:b,class:"bg-[var(--dream-gray-dark)] hover:bg-opacity-80 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition duration-150 ease-in-out"}," 취소 "),e("button",pe,p(v.value?"수정 완료":"등록"),1)])],32)],2)],2)):x("",!0)])]))}}),ye=N(ge,[["__scopeId","data-v-80ba1df1"]]);export{ye as default};
