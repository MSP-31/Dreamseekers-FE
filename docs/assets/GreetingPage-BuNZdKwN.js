import{d as F,r as g,a as y,g as I,o as S,c as n,b as e,e as c,t as b,w as f,n as w,F as _,f as V,h as r,i as k,v as z,j as B,u as A,k as E,_ as P}from"./index-CykwwcsO.js";import{_ as G}from"./intro-D7poRhNJ.js";const L={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},N={key:0,class:"text-right mb-6"},R={class:"flex flex-col lg:flex-row items-start gap-8 p-6 bg-white shadow-lg rounded-lg"},H=["src"],T={class:"lg:w-2/3"},X={class:"text-2xl font-semibold text-gray-700 mb-4"},q={class:"text-gray-600 leading-relaxed whitespace-pre-line"},J={class:"w-full"},K={key:0},O={colspan:"2",class:"py-3"},Q=["for"],W={class:"w-full flex flex-col items-center px-4 py-3 bg-white text-blue-600 rounded-lg shadow border border-blue-300 cursor-pointer hover:bg-blue-50 hover:text-blue-700 transition-colors"},Y=["id","name"],Z={key:1},$={colspan:"2",class:"py-3"},ee={class:"border border-gray-300 p-2 rounded-md w-full max-w-md h-48 mx-auto flex items-center justify-center overflow-hidden relative"},te=["src"],se={key:2},oe={class:"text-left py-3 pr-4 align-top"},ae=["for"],le={class:"py-3 w-full"},ne=["type","id","name","onUpdate:modelValue"],re=["id","name","onUpdate:modelValue"],ie=F({__name:"GreetingPage",setup(de){const v=g(A.isStaff),d=g(!1),o=y({...I}),l=y({}),x=g(E),i=g(null),u=g(null),C=()=>{x.value.forEach(a=>{a.name in o?l[a.name]=o[a.name]:l[a.name]=""}),i.value=o.image,u.value=null,d.value=!0},p=()=>{d.value=!1},M=a=>{const s=a.target;if(s.files&&s.files[0]){const t=s.files[0];u.value=t;const m=new FileReader;m.onload=D=>{var h;i.value=(h=D.target)==null?void 0:h.result},m.readAsDataURL(t)}},j=()=>{i.value=null,u.value=null},U=()=>{console.log("Form submitted with data:",l),console.log("Uploaded image file:",u.value),o.title=l.title,o.contents=l.contents,i.value&&u.value?o.image=i.value:!i.value&&!u.value&&(o.image="/img/dummy/placeholder.png"),p()};return S(()=>{x.value.forEach(a=>{a.name in o&&(l[a.name]=o[a.name])})}),(a,s)=>(r(),n("div",null,[s[7]||(s[7]=e("div",{class:"relative h-64 md:h-80 bg-gray-700"},[e("img",{src:G,alt:"교육원 소개 배경 이미지",class:"w-full h-full object-cover opacity-50"}),e("div",{class:"absolute inset-0 flex items-center justify-center"},[e("h1",{class:"text-white text-4xl md:text-5xl font-bold"},"교육원 소개")])],-1)),e("div",L,[s[5]||(s[5]=e("h1",{class:"text-3xl font-bold text-center mb-10 text-gray-800"},"인사말",-1)),v.value?(r(),n("div",N,[e("button",{onClick:C,class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition duration-150 ease-in-out"},"수정")])):c("",!0),e("div",R,[e("img",{src:o.image,alt:"대표 이미지",class:"w-full lg:w-1/3 h-auto object-cover rounded-md shadow"},null,8,H),e("div",T,[e("h2",X,b(o.title),1),e("p",q,b(o.contents),1)])]),s[6]||(s[6]=e("div",{class:"mt-12 border-t border-gray-200"},null,-1)),v.value&&d.value?(r(),n("div",{key:1,class:w(["fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out",{"opacity-100":d.value,"opacity-0 pointer-events-none":!d.value}]),onClick:f(p,["self"])},[e("div",{class:w(["bg-white p-6 sm:p-8 rounded-lg shadow-2xl w-full max-w-2xl transform transition-all duration-300 ease-in-out",{"scale-100":d.value,"scale-95":!d.value}])},[e("div",{class:"flex justify-between items-center mb-6"},[s[0]||(s[0]=e("h3",{class:"text-xl font-semibold text-gray-800"},"인사말 수정",-1)),e("button",{onClick:p,class:"text-gray-400 hover:text-gray-600 text-2xl leading-none"},"×")]),e("form",{onSubmit:f(U,["prevent"])},[e("table",J,[e("tbody",null,[(r(!0),n(_,null,V(x.value,t=>(r(),n(_,{key:t.name},[t.type==="image"?(r(),n("tr",K,[e("td",O,[e("label",{for:t.id,class:"block text-sm font-medium text-gray-700 mb-1"},b(t.label),9,Q),e("label",W,[s[1]||(s[1]=e("svg",{class:"w-6 h-6",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1)),s[2]||(s[2]=e("span",{class:"mt-1 text-sm leading-normal"},"이미지 선택",-1)),e("input",{id:t.id,name:t.name,type:"file",accept:"image/*",class:"hidden",onChange:M},null,40,Y)])])])):c("",!0),t.type==="image"&&i.value?(r(),n("tr",Z,[e("td",$,[s[3]||(s[3]=e("p",{class:"text-sm font-medium text-gray-700 mb-1"},"미리보기",-1)),e("div",ee,[e("img",{src:i.value,alt:"이미지 미리보기",class:"max-h-full max-w-full object-contain rounded"},null,8,te),e("button",{type:"button",onClick:j,class:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 text-xs leading-none hover:bg-red-600",title:"이미지 제거"}," X ")])])])):c("",!0),t.type!=="image"?(r(),n("tr",se,[e("th",oe,[e("label",{for:t.id,class:"block text-sm font-medium text-gray-700"},b(t.label),9,ae)]),e("td",le,[t.type==="text"?k((r(),n("input",{key:0,type:t.type,id:t.id,name:t.name,"onUpdate:modelValue":m=>l[t.name]=m,class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,ne)),[[z,l[t.name]]]):t.type==="textarea"?k((r(),n("textarea",{key:1,id:t.id,name:t.name,"onUpdate:modelValue":m=>l[t.name]=m,rows:"5",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm resize-none"},null,8,re)),[[B,l[t.name]]]):c("",!0)])])):c("",!0)],64))),128))])]),e("div",{class:"text-right"},[e("button",{type:"button",onClick:p,class:"mr-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md shadow-sm transition duration-150 ease-in-out"}," 취소 "),s[4]||(s[4]=e("button",{type:"submit",class:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition duration-150 ease-in-out"},"등록",-1))])],32)],2)],2)):c("",!0)])]))}}),ce=P(ie,[["__scopeId","data-v-b25239bc"]]);export{ce as default};
