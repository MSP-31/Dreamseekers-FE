import{d as w,r as c,B as S,o as D,G as $,X as N,Y as C,c as o,y as i,b as s,t as d,e as p,F as x,f,z as g,A as B,Q as F,p as u,h as a,u as I}from"./index-CykwwcsO.js";import{_ as V}from"./PageHeader.vue_vue_type_script_setup_true_lang-DIMsOurW.js";const j="/Dreamseekers-FE/img/icon/save_alt_black_24dp.svg",P={class:"font-[var(--font-body)]"},A={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},E={key:0,class:"max-w-3xl mx-auto"},M={class:"border-t-2 border-gray-700"},R={class:"board-title py-4 px-2 border-b border-gray-300 flex justify-between items-center"},Y={class:"text-xl font-semibold text-gray-800"},z={class:"text-sm text-gray-500"},G={class:"board-content py-6 px-2 min-h-[200px]"},L={class:"text-gray-700 leading-relaxed whitespace-pre-line"},O={key:0,class:"mt-8 space-y-4"},Q=["src","alt"],T={key:1,class:"mt-8 pt-4 border-t border-gray-200"},U=["href"],X={class:"mt-8 flex justify-end items-center space-x-3"},q={key:1,class:"text-center text-gray-500 py-16"},W=w({__name:"NoticeDetailPage",setup(H){const v=$(),_=F(),e=c(null),y=c(I.isStaff);c(null);const b=S(()=>e.value?y.value:!1);D(()=>{const n=parseInt(v.params.pk,10),t=N.find(r=>r.pk===n)||C.find(r=>r.pk===n);e.value=t||null});const h=n=>{const t=new Date(n);return`${t.getFullYear()}.${(t.getMonth()+1).toString().padStart(2,"0")}.${t.getDate().toString().padStart(2,"0")}`},k=()=>{e.value&&window.confirm("정말로 이 공지사항을 삭제하시겠습니까?")&&(console.log(`Deleting post with pk: ${e.value.pk}`),alert("공지사항이 삭제되었습니다."),_.push("/notice"))};return(n,t)=>{const r=B("router-link");return a(),o("div",P,[i(V,{title:"소통 마당",backgroundImageUrl:"/img/top_header/forum.jpg"}),s("div",A,[e.value?(a(),o("div",E,[t[4]||(t[4]=s("h1",{class:"text-3xl font-bold text-center mb-6 text-[var(--dream-text)]"},"공지사항",-1)),s("div",M,[s("div",R,[s("h3",Y,d(e.value.title),1),s("span",z,d(h(e.value.created_at)),1)]),s("div",G,[s("p",L,d(e.value.contents),1),e.value.images&&e.value.images.length>0?(a(),o("div",O,[(a(!0),o(x,null,f(e.value.images,(l,m)=>(a(),o("img",{key:`image-${m}`,src:l.url,alt:l.alt||e.value.title,class:"max-w-full h-auto rounded-md shadow-md mx-auto"},null,8,Q))),128))])):p("",!0),e.value.files&&e.value.files.length>0?(a(),o("div",T,[t[1]||(t[1]=s("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"첨부파일",-1)),s("ul",null,[(a(!0),o(x,null,f(e.value.files,(l,m)=>(a(),o("li",{key:`file-${m}`,class:"mb-1"},[s("a",{href:l.url,download:"",class:"file-download inline-flex items-center text-[var(--dream-blue)] hover:text-[var(--dream-main)] hover:underline text-sm"},[t[0]||(t[0]=s("img",{src:j,alt:"다운로드",class:"h-4 w-4 mr-1 opacity-70"},null,-1)),u(" "+d(l.name),1)],8,U)]))),128))])])):p("",!0)])]),s("div",X,[b.value?(a(),o(x,{key:0},[i(r,{to:`/notice/edit/${e.value.pk}`,class:"inline-block text-center text-sm font-medium py-2 px-4 rounded-md shadow-sm transition-colors duration-150 ease-in-out bg-gray-200 hover:bg-gray-300 text-gray-700"},{default:g(()=>t[2]||(t[2]=[u(" 수정 ")])),_:1,__:[2]},8,["to"]),s("button",{onClick:k,class:"inline-block text-center text-sm font-medium py-2 px-4 rounded-md shadow-sm transition-colors duration-150 ease-in-out bg-[var(--primary-warning)] hover:bg-[var(--primary-warning-strong)] text-white"}," 삭제 ")],64)):p("",!0),i(r,{to:"/notice",class:"inline-block text-center text-sm font-medium py-2 px-4 rounded-md shadow-sm transition-colors duration-150 ease-in-out bg-gray-500 hover:bg-gray-600 text-white"},{default:g(()=>t[3]||(t[3]=[u(" 목록 ")])),_:1,__:[3]})])])):(a(),o("div",q,[t[6]||(t[6]=s("p",null,"요청하신 공지사항을 찾을 수 없습니다.",-1)),i(r,{to:"/notice",class:"text-[var(--dream-main)] hover:underline mt-4 inline-block"},{default:g(()=>t[5]||(t[5]=[u(" 목록으로 돌아가기 ")])),_:1,__:[5]})])),t[7]||(t[7]=s("div",{class:"mt-12 border-t border-[var(--dream-gray-dark)] opacity-30"},null,-1))])])}}});export{W as default};
